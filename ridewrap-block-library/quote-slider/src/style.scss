/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 *
 * Replace them with your own styles or remove the file completely.
 */
@import '/../assets/css/settings';

.wp-block-ridewrap-block-quote-slider:not([data-type='ridewrap-block/quote-slider']) {
	background-color: $color-maroon;
	color: $color-white;
	padding: 0;
	position: relative;
	z-index: 1;

	@media (min-width: $screen-lg) {
		padding: rem(60px);
		height: rem(850px);
	}

	&::after {
		content: '';
		height: 100%;
		width: 100%;
		position: absolute;
		right: 0;
		top: 0;
		background-color: $color-grey-medium;
		z-index: -1;

		@media (min-width: $screen-lg) {
			width: 66%;
		}
	}

	.col:first-of-type {
		width: 100%;

		@media (min-width: $screen-lg) {
			width: 40%;
		}
	}

	.col:last-of-type {
		width: 90%;
		margin: auto;

		@media (min-width: $screen-lg) {
			width: 60%;
		}
	}

	.col-internal {
		text-align: center;
		width: 60%;
	}

	.h2-style {
		color: $color-black;
		text-align: center;
		padding: $gutter-width-double 0 $gutter-width-single 0;
		background: $color-maroon;
		margin-left: -$gutter-width-double;
		margin-right: -$gutter-width-double;
		margin-bottom: 0;

		@media (min-width: $screen-lg) {
			color: $color-white;
			text-align: unset;
			padding: unset;
			background: unset;
			margin-left: unset;
			margin-right: unset;
			margin-bottom: unset;
		}

		span {
			display: inline-block;
			position: relative;
			padding: $gutter-width-single 0 $gutter-width-single 0;

			@media (min-width: $screen-lg) {
				padding: $gutter-width-single $gutter-width-double $gutter-width-single 0;
			}
		}

		span::before {
			content: "";
			display: block;
			background-color: $color-grey-dark;
			position: absolute;
			height: 100%;
			width: 600%;
			z-index: -1;
			left: -500%;
			top: 0;
		}
	}

	// Splide slides.
	.splide {
		width: 100%;
		position: relative;
		top: 0;
		right: 0;

		@media (min-width: $screen-lg) {
			position: absolute;
			width: 66%;
			height: rem(850px);
		}
	}

	.splide__track {
		overflow: hidden;
	}

	.splide__slide {
		-webkit-backface-visibility: hidden;
		backface-visibility: hidden;
		box-sizing: border-box;
		-ms-flex-negative: 0;
		flex-shrink: 0;
		list-style-type: none !important;
		margin: 0;
		position: relative;
		display: flex;
		align-items: center;
		align-content: center;
		flex-direction: column;
		overflow: hidden;
		background-position: center center;
		background-size: cover;
		height: rem(600px);

		@media (min-width: $screen-lg) {
			background-position: center center;
			background-size: cover;
			height: rem(850px);
		}

		img {
			display: block;
			height: 65%;
			width: 80%;

			@media (min-width: $screen-lg) {
				display: none;
			}
		}
	}

	// Splide pagination.
	.splide__pagination {
		display: flex;
		left: 0;
		padding: 0 1em;
		position: absolute;
		right: 0;
		z-index: 1;
		top: rem(-26px);

		@media (min-width: $screen-lg) {
			display: none;
		}

		li {
			display: inline-block;
			line-height: 1;
			list-style-type: none;
			margin: 0;
			pointer-events: auto;
		}
	}

	// Splide desktop thumbnails.
	.splide-desktop-thumbnails-wrapper {
		display: none;

		@media (min-width: $screen-lg) {
			display: flex;
			flex-direction: column;
			margin: 0;
			padding: 0;
			justify-content: center;
			flex-direction: column;
			align-items: center;
			margin-top: $gutter-width-double;
			margin-bottom: rem(45px);
		}

		.splide-desktop-thumbnail {
			display: flex;
			width: rem(125px);
			height: rem(80px);
			overflow: hidden;
			list-style: none;
			margin: 0;
			cursor: pointer;
			transition: 0.25s ease-in-out;
	
			&:hover,
			&.is-active {
				transform: scale(1.3);
				transition: 0.25s ease-in-out;
				-webkit-filter: invert(1);
				filter: invert(1);
			}
	
			img {
				width: 100%;
				height: auto;
			}
		}
	}

	// Splide quote.
	.splide-quote {
		position: absolute;
		background: $color-black;
		color: $color-white;
		width: rem(700px);
		right: 0;
		bottom: 0px;
		padding: rem(60px) rem(40px);
		line-height: 122%;
		position: absolute;
		width: 100%;
		font-style: italic;

		@media (min-width: $screen-lg) {
			position: absolute;
			width: 700px;
			padding: rem(60px) rem(130px);
			bottom: rem(60px);
		}

		&::before,
		&::after {
			display: block;
			content: url('./images/quote.svg');
			height: rem(20px);
			width: rem(20px);
			position: absolute;

			@media (min-width: $screen-lg) {
				height: rem(50px);
				width: rem(50px);
			}
		}

		&::before {
			left: rem(10px);

			@media (min-width: $screen-lg) {
				left: rem(40px);
			}
		}

		&::after {
			bottom: rem(60px);
			right: rem(10px);
			transform: rotate(180deg);

			@media (min-width: $screen-lg) {
				right: rem(65px);
			}
		}

		.btn {
			color: $color-white;
			display: block;
			background-color: $color-grey-medium;
			margin: unset;
			margin-left: 0;
			margin-top: $gutter-width-double;
			font-size: 16px;
			width: rem(145px);

			&:after {
				top: rem(14px);
				height: rem(12px);
				width: rem(12px);
			}
		}
	}

	.btn {
		color: $color-white;
		display: none;
		font-size: 20px;
		transform: none;
		background: $color-black;
		text-transform: uppercase;
		font-style: italic;
		position: relative;
		width: rem(170px);
		text-align: left;
		padding: rem(6px) $gutter-width-single;

		@media (min-width: $screen-lg) {
			display: block;
		}

		&::after {
			background-image: url('images/icon-caret-left.svg');
			background-repeat: no-repeat;
			content: "";
			display: inline-block;
			height: rem(14px);
			position: absolute;
			right: rem(14px);
			top: rem(16px);
			transform: rotate(180deg);
			width: rem(14px);
			opacity: 1;
			transition: 0.2s ease-in-out;
		}

		&:hover {
			opacity: 1;
			color: $color-grey-light;

			&::after {
				opacity: 0.5;
				transition: 0.2s ease-in-out;
			}
		}
	}
}

// Editor styles.
div[data-type='ridewrap-block/quote-slider'] {
	background-color: $color-maroon;
	padding: $gutter-width-single;

	h2 {
		color: $color-black;
		font-style: italic;
		margin: rem(5px) 0 rem(10px) 0;
	}

	.link-style {
		color: $color-blue-dark;
		background: $color-black;
		padding: rem(10px);
		font-size: 14px;
	}

	.quote-item-group {
		width: 44%;
		display: inline-block;
		padding: $gutter-width-single;
		background: rgba(255, 255, 255, 0.2);
		margin: rem(10px);
		vertical-align: top;
	}

	.quote-item-group-row {
		border-bottom: 2px solid $color-white;
		display: flex;
		align-items: center;
		padding: $gutter-width-double 0;
		justify-content: space-between;

		button {
			color: $color-white;
    		border: 2px solid $color-white;
		}

		img {
			width: rem(150px);
		}

		p {
			width: 100%;
			margin: 0;
			font-size: 14px;
			font-weight: 400;
		}

		&:nth-child(3) {
			border: none;
		}

		&:last-of-type {
			padding: 0;
			margin: 0;
			border: none;

			p {
				display: block;
				font-weight: 500;
				margin-top: 0;
				width: 100%;
				background: #000000;
				color: #29a3ac;
				font-size: 14px;
				padding: 0.375rem;
				outline: none;
				-webkit-backface-visibility: hidden;
				border: none;
			}
		}
	}
}

// Temp styles whilst awaiting PH2 deploy.

.wp-block-ridewrap-block-quote-slider:not([data-type="ridewrap-block/quote-slider"]) .btn {
	display: none;
}

.wp-block-ridewrap-block-quote-slider:not([data-type="ridewrap-block/quote-slider"]) .splide-desktop-thumbnails-wrapper {
	margin-top: rem(95px);
}
